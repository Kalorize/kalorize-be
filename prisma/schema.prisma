// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("MYSQL_URL")
}

model User {
  id       Int       @id @default(autoincrement())
  name     String
  email    String    @unique @db.VarChar(255)
  password String    @db.Char(60)
  gender   Gender?
  weight   Float?
  picture  String?
  age      Int?
  height   Float?
  activity Activity?
  target   Target?
  Otp      Otp?
}

enum Gender {
  MALE
  FEMALE
}

enum Activity {
  EASY
  MEDIUM
  HARD
  EXTREME
}

enum Target {
  REDUCE_WEIGHT
  INCREASE_MUSCLE
  BE_HEALTHY
}

model Otp {
  user      User      @relation(fields: [userEmail], references: [email])
  id        Int       @id @default(autoincrement())
  userEmail String    @unique
  code      String
  valid     Boolean   @default(false)
  chance    Int?
  expired   DateTime // batas waktu verifikasi
  lifetime  DateTime? // umur dari otp yang valid
}
